<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Nossos Produtos | Loja Tech</title>
    <style>
        /* Estilos base */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: #0f111a; color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 40px 20px; }
        
        /* CabeÃ§alho e Busca */
        header { max-width: 1000px; margin: 0 auto 40px; text-align: center; }
        h1 { font-size: 2.5rem; color: #00e5ff; margin-bottom: 20px; }
        
        .barra-busca { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
        .barra-busca input {
            padding: 12px 20px;
            width: 100%;
            max-width: 400px;
            border-radius: 25px;
            border: 1px solid #333;
            background: #1e2130;
            color: #fff;
            font-size: 1rem;
            outline: none;
        }
        .barra-busca input:focus { border-color: #00e5ff; }
        .barra-busca button {
            padding: 12px 25px;
            border-radius: 25px;
            border: none;
            background: #00e5ff;
            color: #0f111a;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        .barra-busca button:hover { background: #00b3cc; }

        /* Grid de Produtos */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Card de Produto */
        .card {
            background: #1e2130;
            padding: 30px 20px;
            border-radius: 15px;
            border: 1px solid #2a2d3e;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 229, 255, 0.1);
            border-color: #00e5ff;
        }
        .imagem-fake { font-size: 4rem; margin-bottom: 15px; }
        .card h3 { font-size: 1.2rem; margin-bottom: 10px; color: #e0e0e0; }
        .preco { color: #00e5ff; font-weight: bold; font-size: 1.5rem; margin-bottom: 20px; }
        
        .btn-comprar {
            background: transparent;
            color: #00e5ff;
            border: 1px solid #00e5ff;
            padding: 10px;
            width: 100%;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
        }
        .btn-comprar:hover { background: #00e5ff; color: #0f111a; }
        
        .mensagem-vazia { text-align: center; color: #888; margin-top: 50px; font-size: 1.2rem; }
    </style>
</head>
<body>
<%- include('partials/header') %>
    <header>
        <h1>Nossos Produtos ðŸš€</h1>
        
        <form class="barra-busca" action="/produtos" method="GET">
            <input type="text" name="q" placeholder="Buscar produtos..." value="<%= busca %>">
            <button type="submit">Pesquisar</button>
        </form>
        
        <% if(busca) { %>
            <p style="color: #aaa; font-size: 0.9rem;">Mostrando resultados para: <b>"<%= busca %>"</b></p>
            <a href="/produtos" style="color: #00e5ff; font-size: 0.9rem; text-decoration: none;">Limpar busca</a>
        <% } %>
    </header>

    <div class="grid">
        <% if (lista.length > 0) { %>
            <% lista.forEach(produto => { %>
                <div class="card">
                    <div class="imagem-fake"><%= produto.imagem %></div>
                    <h3><%= produto.nome %></h3>
                    <p class="preco">R$ <%= produto.preco.toFixed(2).replace('.', ',') %></p>
                    <button class="btn-comprar">Adicionar ao Carrinho</button>
                </div>
            <% }) %>
        <% } else { %>
            <div class="mensagem-vazia" style="grid-column: 1 / -1;">
                <p>Nenhum produto encontrado com esse nome. ðŸ˜¢</p>
            </div>
        <% } %>
    </div>

</body>

</html>